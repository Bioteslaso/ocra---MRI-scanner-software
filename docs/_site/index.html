<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=4b7403c23fc00f0cf515ce0a661c46080be082ec">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Welcome | OCRA MRI</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Welcome" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="OCRA - an Open-source Console for Real-time Acquisition." />
<meta property="og:description" content="OCRA - an Open-source Console for Real-time Acquisition." />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="OCRA MRI" />
<script type="application/ld+json">
{"url":"http://localhost:4000/","headline":"Welcome","description":"OCRA - an Open-source Console for Real-time Acquisition.","name":"OCRA MRI","@type":"WebSite","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="http://github.com/OpenMRI/ocra">View on GitHub</a>

          <h1 id="project_title">OCRA MRI</h1>
          <h2 id="project_tagline">OCRA - an Open-source Console for Real-time Acquisition.
</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
          <header>
    <h1 class="post-title">Welcome</h1>
  </header>
  <p><img src="ocra/docs/images/welcome/ocra.png" alt="OCRA logo" title="OCRA Logo" /></p>
<h2 id="what-is-ocra-mri">What is OCRA MRI?</h2>

<p>OCRA stands for Open-source Console for Real-time Acquisition. It’s a low-cost, open-source console (hardware controller) for MRI. Using the <a href="https://www.redpitaya.com/">Red Pitaya</a> board and some other hardware, we have created this console for under $500. On this site, you’ll find documentation on how to use it. We encourage you all to contribute and make your own changes!</p>

<h2 id="goals-of-this-project">Goals of this project</h2>
<p>In creating OCRA, our goals were to make an MRI console that is:</p>
<ol>
  <li>Low-cost (&lt;$500)</li>
  <li>Open source</li>
  <li>Capable of real-time control<br />
By “real-time control”, we mean that it should be able to make changes in real time to the pulse sequence. In other words, we would like to be able to change the acquisition based on the data, or <em>closed loop control</em>. This is shown below:
<img src="https://github.com/OpenMRI/ocra/blob/gh-pages/docs/images/welcome/closed_loop.png" alt="closed loop" width="600px" /></li>
</ol>

<p>(We’ll explain each of the pieces in that diagram further).</p>

<p>So far, we’ve used OCRA with the <a href="https://tabletop.martinos.org/index.php/Main_Page">MGH/MIT Tabletop MRI scanners</a>. These are educational scanners that are used in classes at MIT to teach students about MRI. There are currently 26 of them. The scanner that we used has a field strength of 0.4T, and an imaging Field-of-View (FOV) of 1cm. This is what our setup looks like:
<img src="https://github.com/OpenMRI/ocra/blob/gh-pages/docs/images/welcome/tabletop.png" alt="tabletop" width="700px" /></p>

<p>And here are some images that we’ve acquired with OCRA and the Tabletop:
<img src="https://github.com/OpenMRI/ocra/blob/gh-pages/docs/images/welcome/3d_mit_se.png" alt="MIT" width="700px" />
<img src="https://github.com/OpenMRI/ocra/blob/gh-pages/docs/images/welcome/3d_veggies.png" alt="veggies" width="700px" /></p>

<h2 id="basic-architecture">Basic architecture</h2>
<p>OCRA uses the <a href="https://www.redpitaya.com/">STEMLab/Red Pitaya 125-14</a> board, commercially available for $329. The Red Pitaya uses a Xilinx 7010 Zynq SoC, which is a board that contains a Xilinx FPGA, dual-core ARM CPU, and shared RAM. It is pictured here:</p>

<p><img src="https://github.com/OpenMRI/ocra/blob/gh-pages/docs/images/welcome/red_pitaya.png" alt="MIT" width="400px" /></p>

<p>Additionally, the Red Pitaya has some RF hardware:</p>
<ul>
  <li>2 RF Tx outputs</li>
  <li>2 RF Rx inputs</li>
  <li>2 14-bit, 125 Msps ADCs</li>
  <li>2 14-bit, 125 Msps DACs</li>
</ul>

<p>The FPGA executes the pulse sequence on the hardware, while the CPU receives updates from an external client. The FPGA and CPU can operate independently of one another. We call this an <em>Asymmetric Multiprocessing System</em>. This means that, while the FPGA plays out a waveform, the CPU can update it. This is how we get real-time control!</p>

<p>In our case, the client is a Python-based GUI. On the CPU, we have a server (written in C) that communicates with the client via an Ethernet connection. The Red Pitaya is connected to a LAN via the Ethernet connection, and it communicates wirelessly with other devices (e.g. a laptop) via the LAN.</p>

<h2 id="server-client-model">Server-client model</h2>
<p>The server is simply a C program that is run on the Red Pitaya. It has to be compiled with the ARM cross-compiler <code class="highlighter-rouge">arm-linux-gnueabihf-gcc</code>. We use the <code class="highlighter-rouge">Vivado</code> environment from Xilinx to compile the code. The server communicates with the client (the Python GUI) using TCP sockets. A diagram is shown below:<br />
<img src="https://github.com/OpenMRI/ocra/blob/gh-pages/docs/images/welcome/server_client.png" alt="server-client" width="700px" /></p>

<p>The Python GUI is intended as an educational tool for students to learn about MRI.<br />
For more details on the hardware and software, check out the rest of the pages!</p>


      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">OCRA MRI maintained by <a href="http://github.com/OpenMRI">OpenMRI</a></p>
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    
  </body>
</html>
